# 旅行費用精算アプリ

旅行の費用を割り勘で精算するためのアプリケーションです。国内旅行・海外旅行の両方に対応し、複数通貨での支払いをJPY基準で精算できます。

## 機能

- 参加者の追加・削除
- 支払い費用の追加・削除（誰がいくら何に払ったか）
- **多通貨対応**: 複数の通貨（JPY, USD, EUR等）での支払いに対応
- **為替レート自動取得**: 支払い追加時に為替レートを取得してJPY換算額を固定保存
- 精算計算（誰が誰にいくら払えば良いかを自動計算、JPY基準）
- データの自動保存（localStorage）

## 技術スタック

- Next.js (App Router)
- TypeScript
- TailwindCSS
- Docker
- exchangerate.host API（為替レート取得）

## セットアップ

### 環境変数の設定（オプション）

為替レートAPIを使用する場合、`.env.local`ファイルを作成して以下を設定してください：

```bash
# .env.local
EXCHANGERATE_HOST_API_KEY=your_api_key_here
EXCHANGERATE_HOST_BASE_URL=https://api.exchangerate.host
```

APIキーが設定されていない場合でも、無料プランで利用可能です（レート制限あり）。

### ローカル開発環境

```bash
# 依存関係のインストール
npm install

# 開発サーバーの起動
npm run dev
```

ブラウザで [http://localhost:3000](http://localhost:3000) を開いてください。

### Dockerを使用した起動

```bash
# ビルドと起動
docker-compose up --build

# バックグラウンドで起動
docker-compose up -d --build
```

ブラウザで [http://localhost:3000](http://localhost:3000) を開いてください。

## 使い方

1. **参加者を追加**: 「参加者」セクションで名前を入力して追加
2. **支払いを追加**: 「支払い」セクションで以下を入力して追加
   - 支払った人を選択
   - 通貨を選択（JPY, USD, EUR等）
   - 金額を入力（通貨に応じた形式で入力、例: USDは12.34ドル）
   - 支払い内容を入力
   - 追加ボタンをクリック（JPY以外の通貨は自動的に為替レートを取得してJPY換算）
3. **精算を確認**: 「精算結果」セクションで誰が誰にいくら（JPY）払えば良いかを確認
4. **データのリセット**: 「すべてリセット」ボタンで全データをクリア

### 多通貨対応について

- すべての支払いはJPY基準で精算されます
- 為替レートは**支払い追加時点で取得され、固定保存**されます（後からレートが変動しても精算結果は変わりません）
- 支払い一覧では「元通貨の金額」と「JPY換算額（固定）」の両方を表示します

## ビルド

```bash
npm run build
npm start
```

## 対応通貨

JPY（日本円）、USD（米ドル）、EUR（ユーロ）、GBP（英ポンド）、AUD（豪ドル）、CAD（カナダドル）、CHF（スイスフラン）、CNY（人民元）、HKD（香港ドル）、KRW（韓国ウォン）、SGD（シンガポールドル）、THB（タイバーツ）、TWD（台湾ドル）、VND（ベトナムドン）、INR（インドルピー）

## ライセンス

このプロジェクトは課題提出用のコードです。
